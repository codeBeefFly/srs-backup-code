# Python 编码规范

版本：version 1.0  
时间：2020-03-11

---
## 命名规范
1. **包名**  
   规定：全部小写字母，中间点号分开，不用下划线  
   示例：com.apple.quicktime.v2
2. **模块名**  
   规定：全部小写字母，多单词间用下划线隔开  
   示例：dummy_threading
3. **类名**  
   规定：大驼峰法则  
   示例：SplitViewController
4. **异常名**  
   规定：异常属于类，大驼峰法则+Error后缀  
   示例：FileNotFoundError
5. **变量名**  
   规定：全部小写字母，多单词间用下划线隔开  
   _变量名：变量应用于模块/函数内部，变量名单下划线开头  
   __变量名：所在类的私有变量，变量名双下划线开头  
   示例：略
6. **函数名与方法名**  
   规定：全部小写字母，参照变量名规则  
   示例：balance_account(), _push_cm_exit()
7. **常量名**  
   规定：全部大写字母，多单词间用下划线隔开  
   示例：YEAR, WEEK_OF_MONTH

---
## 注释规范
**Python注释语法：**
1. 单行注释
2. 多行注释
3. 文档注释

**Python注释类型：**
1. **文件注释**  
   规定：每一个文件头添加注释，多行注释  
   内容：  
   1. 版权信息
   2. 文件名
   3. 所在模块
   4. 作者信息
   5. 历史版本
   6. 文件内容
   7. 作用
   8. 等等。。。  
   
   示例：  
   ```
   #
   # 版权信息: xxx
   # 文件名: xxx
   # 所在模块: xxx 
   # 作者信息: xxx
   # 历史版本: xxx
   # 文件内容: xxx
   # 作用: xxx
   # ...
   #
   ```  
2. **文档注释**  
   说明：文档字符串，注释内容生成API帮助文档，pydoc工具从python源代码提取此信息，可以生成HTML文件 。给看不到源代码的人准备的帮助文档  
   规定：`""" 文档注释内容 """`  
   示例1：注释一行可以完成，起始与结束注释符在同一行  
   ```
   """ xxx................... """
   ```  
   示例2：注释不能一行完成，第一行注释空一行，余下注释与起始符对其，结束符独占一行，与起始符对齐
   ```
   """ xxx....................
   
   xxx........................
   xxx........................
   """
   ```
3. **代码注释**  
   规定：关键地方添加代码注释，供源代码阅读者参考  
   示例1：单行注释  
   ```
   # xxx......................
   _xxx_xxx = xxx
   _xxx_xxx = xxx

   def xxx():
       """ xxx................
       
       xxx....................
       xxx....................
       """
       xxx xxx
       # xxx..................
       if xxx:
   ```
   示例2：多行注释  
   ```
   # xxx......................
   # xxx......................
   _xxx_xxx = xxx
   _xxx_xxx = xxx

   def xxx():
       """ xxx................
       
       xxx....................
       xxx....................
       """
       xxx xxx
       # xxx..................
       # xxx..................       
       if xxx:
   ```  
   示例3：尾端注释，`#`前空两格，后空一格，要求内容极短  
   ```
   xxx = xxx  # xxx...
   ```
4. **TODO注释**  
   说明：特殊注释，非官方，但主流IDE工具支持。  
   规定：注释的地方有待处理的任务，或代码没有编写完成  
   示例：  
   ```
   # TODO 声明函数
   xxx_1()  # xxx...
   xxx_2()  # xxx...
   xxx_3()  # xxx...
   ```

---
## 导入规范
1. **规定1：**  
   导入语句总是放在**文件顶部**，位于**模块注释**和**文档注释**之后，**模块全局变量**和**常量**之前  
   示例：  
   ```
   """ right """
   import xxx
   import xxx
   import xxx

   """ wrong """
   import xxx, xxx, xxx
   ```
2. **规定2：**  
   `from ... import ...`后面可以根多个元素  
   示例：  
   ```
   """ right """
   from xxx import xxx, xxx, xxx
   ```  
3. **规定3：**  
   导入语句顺序：
   1. 通用 --> 特殊
   2. 标准库 --> 第三方库 --> 自己的模块
   3. 每一组模块区之间空一行
   4. 每一张模块区按英文字母顺序排列

---
## 代码排版
1. **空行**  
   说明：将逻辑相关代码块分隔开
- 规定1：`import`语句块前后保留两个空行  
   ```
   1
   2
   3 import xxx
   4
   5
   ```    
- 规定2：函数声明之前保留两个空行  
   ```
   1
   2
   3 import xxx
   4
   5
   6 def xxx():
   7
   ```  
- 规定3：类声明之前保留两个空行  
   ```
   1
   2
   3 Class Xxx():
   4
   5  
   ```  
- 规定4：方法声明之前保留一个空行  
   ```
   1
   2
   3 Class Xxx():
   4     
   5     def xxx(self):   
   6
   7   
   ```  
- 规定5：两个逻辑代码块之间保留一个空行  
   ```
   1
   2 def xxx():
   3     # logical block 1
   4     xxx...
   5     xxx...
   6 
   7     # logical block 2
   8     xxx...
   9     xxx...
   10
   ``` 

2. **空格**(TODO)
- 规定1：`=`前后各一个空格
  ```
  """ right """

  """ wrong """
  
  ```
- 规定2：二元运算符使用空格与操作数分开
  ```
  """ right """

  """ wrong """
  
  ```
- 规定3：一元运算符`-`（算法运算符取反）与`~`（运算符取反）
  ```
  """ right """

  """ wrong """
  
  ```
- 规定4：括号内不用空格
  ```
  """ right """

  """ wrong """
  
  ```
- 规定5：`,`、`;`、`:`前面**没有**有空格，后面有一个空格
  ```
  """ right """

  """ wrong """

  ```
- 规定6：参数列表、索引、切片左括号前没有空格
  ```
  """ right """
  xxx(1)
  xxx['key'] = list[index]

  """ wrong """
  xxx (1)
  xxx ['key'] = list [index]
  ```


3. **缩进**
- 规定：4个空格为缩进排版的一个级别
- 注意：默认情况下一个制表符`Tab`等于8个空格，所以不要用制表符表示缩进

4. **断行**  
  说明：一行代码最多79个字符，文档注释/多行注释最多72个字符，URL地址不受限制
- 规定1：在`,`（逗号）后面断开
- 规定2：在运算符前面断开
- 规定3：不适用断行符`\`